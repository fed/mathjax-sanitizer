import test from 'ava';
import sanitizeMathJax from '../src';

test('it works', t => {
    const actual = sanitizeMathJax('<p><span class=\"MathJax_Preview\" style=\"display:none\"></span></p>\n\n<div class=\"MathJax_Display\" style=\"text-align: left;\"><span class=\"MathJax\" data-lrn-mathjax-postprocessed=\"true\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mtable columnalign=&quot;right&quot; rowspacing=&quot;4pt&quot; columnspacing=&quot;1em&quot;><mtr><mtd><mn>2</mn></mtd></mtr><mtr><mtd><munder><mrow><mo>&amp;#x00D7;</mo><mtext>&amp;#xA0;</mtext><mn>1</mn></mrow><mo>&amp;#x005F;</mo></munder></mtd></mtr></mtable></math>\" id=\"MathJax-Element-15-Frame\" role=\"presentation\" style=\"position:relative; text-align:center\"><span class=\"math\" id=\"MathJax-Span-205\" style=\"display:inline-block; width:1.861em\"><span style=\"display:inline-block; height:0px; position:relative; width:1.861em\"><span style=\"clip:rect(0.575em, 1001.72em, 3.361em, -999.996em); left:0em; position:absolute; top:-2.211em\"><span class=\"mrow\" id=\"MathJax-Span-206\"><span class=\"mtable\" id=\"MathJax-Span-207\" style=\"padding-left:0.146em; padding-right:0.146em\"><span style=\"display:inline-block; height:0px; position:relative; width:1.575em\"><span style=\"clip:rect(2.432em, 1001.58em, 5.146em, -999.996em); left:0em; position:absolute; top:-3.996em\"><span style=\"display:inline-block; height:0px; position:relative; width:1.575em\"><span style=\"clip:rect(3.146em, 1000.43em, 4.218em, -999.996em); position:absolute; right:0em; top:-4.639em\"><span class=\"mtd\" id=\"MathJax-Span-208\"><span class=\"mrow\" id=\"MathJax-Span-209\"><span class=\"mn\" id=\"MathJax-Span-210\" style=\"font-family:mathjax_main\">2</span></span></span><span style=\"display:inline-block; height:4.004em; width:0px\"></span></span><span style=\"clip:rect(3.146em, 1001.58em, 4.432em, -999.996em); position:absolute; right:0em; top:-3.282em\"><span class=\"mtd\" id=\"MathJax-Span-211\"><span class=\"mrow\" id=\"MathJax-Span-212\"><span class=\"munderover\" id=\"MathJax-Span-213\"><span style=\"display:inline-block; height:0px; position:relative; width:1.575em\"><span style=\"clip:rect(3.146em, 1001.43em, 4.218em, -999.996em); left:0.004em; position:absolute; top:-3.996em\"><span class=\"mrow\" id=\"MathJax-Span-214\"><span class=\"mo\" id=\"MathJax-Span-215\" style=\"font-family:mathjax_main\">×</span><span class=\"mtext\" id=\"MathJax-Span-216\" style=\"font-family:mathjax_main\">&nbsp;</span><span class=\"mn\" id=\"MathJax-Span-217\" style=\"font-family:mathjax_main\">1</span></span><span style=\"display:inline-block; height:4.004em; width:0px\"></span></span><span style=\"clip:rect(3.504em, 1001.58em, 4.004em, -999.996em); left:0em; position:absolute; top:-3.568em\"><span class=\"mo\" id=\"MathJax-Span-218\"><span style=\"display:inline-block; height:0px; position:relative; width:1.575em\"><span style=\"font-family:mathjax_main; left:-0.068em; position:absolute; top:-3.996em\">−<span style=\"display:inline-block; height:4.004em; width:0px\"></span></span><span style=\"font-family:mathjax_main; left:0.861em; position:absolute; top:-3.996em\">−<span style=\"display:inline-block; height:4.004em; width:0px\"></span></span><span style=\"font-family:mathjax_main; left:0.361em; position:absolute; top:-3.996em\">−<span style=\"display:inline-block; height:4.004em; width:0px\"></span></span></span></span><span style=\"display:inline-block; height:4.004em; width:0px\"></span></span></span></span></span></span><span style=\"display:inline-block; height:4.004em; width:0px\"></span></span></span><span style=\"display:inline-block; height:4.004em; width:0px\"></span></span></span></span></span><span style=\"display:inline-block; height:2.218em; width:0px\"></span></span></span><span style=\"border-left:0px solid; display:inline-block; height:2.575em; overflow:hidden; vertical-align:-0.996em; width:0px\"></span></span><span class=\"MJX_Assistive_MathML MJX_Assistive_MathML_Block\" role=\"presentation\"><math><mtable columnalign=\"right\" columnspacing=\"1em\" rowspacing=\"4pt\"><mtr><mtd><mn>2</mn></mtd></mtr><mtr><mtd><munder><mrow><mo>×</mo><mtext>&nbsp;</mtext><mn>1</mn></mrow><mo>_</mo></munder></mtd></mtr></mtable></math></span></span></div>\n{{response}}<span class=\"MathJax_Preview\" style=\"display:none\"></span>\n\n<div class=\"MathJax_Display\" style=\"text-align: left;\"><span class=\"MathJax\" data-lrn-mathjax-postprocessed=\"true\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mtable columnalign=&quot;right&quot; rowspacing=&quot;4pt&quot; columnspacing=&quot;1em&quot;><mtr><mtd><mn>1</mn></mtd></mtr><mtr><mtd><munder><mrow><mo>&amp;#x00D7;</mo><mtext>&amp;#xA0;</mtext><mn>7</mn></mrow><mo>&amp;#x005F;</mo></munder></mtd></mtr></mtable></math>\" id=\"MathJax-Element-17-Frame\" role=\"presentation\" style=\"position:relative; text-align:center\"><span class=\"math\" id=\"MathJax-Span-231\" style=\"display:inline-block; width:1.861em\"><span style=\"display:inline-block; height:0px; position:relative; width:1.861em\"><span style=\"clip:rect(0.504em, 1001.72em, 3.432em, -999.996em); left:0em; position:absolute; top:-2.211em\"><span class=\"mrow\" id=\"MathJax-Span-232\"><span class=\"mtable\" id=\"MathJax-Span-233\" style=\"padding-left:0.146em; padding-right:0.146em\"><span style=\"display:inline-block; height:0px; position:relative; width:1.575em\"><span style=\"clip:rect(2.432em, 1001.58em, 5.218em, -999.996em); left:0em; position:absolute; top:-3.996em\"><span style=\"display:inline-block; height:0px; position:relative; width:1.575em\"><span style=\"clip:rect(3.146em, 1000.43em, 4.218em, -999.996em); position:absolute; right:0em; top:-4.639em\"><span class=\"mtd\" id=\"MathJax-Span-234\"><span class=\"mrow\" id=\"MathJax-Span-235\"><span class=\"mn\" id=\"MathJax-Span-236\" style=\"font-family:mathjax_main\">1</span></span></span><span style=\"display:inline-block; height:4.004em; width:0px\"></span></span><span style=\"clip:rect(3.146em, 1001.58em, 4.432em, -999.996em); position:absolute; right:0em; top:-3.282em\"><span class=\"mtd\" id=\"MathJax-Span-237\"><span class=\"mrow\" id=\"MathJax-Span-238\"><span class=\"munderover\" id=\"MathJax-Span-239\"><span style=\"display:inline-block; height:0px; position:relative; width:1.575em\"><span style=\"clip:rect(3.146em, 1001.5em, 4.218em, -999.996em); left:0.004em; position:absolute; top:-3.996em\"><span class=\"mrow\" id=\"MathJax-Span-240\"><span class=\"mo\" id=\"MathJax-Span-241\" style=\"font-family:mathjax_main\">×</span><span class=\"mtext\" id=\"MathJax-Span-242\" style=\"font-family:mathjax_main\">&nbsp;</span><span class=\"mn\" id=\"MathJax-Span-243\" style=\"font-family:mathjax_main\">7</span></span><span style=\"display:inline-block; height:4.004em; width:0px\"></span></span><span style=\"clip:rect(3.504em, 1001.58em, 4.004em, -999.996em); left:0em; position:absolute; top:-3.496em\"><span class=\"mo\" id=\"MathJax-Span-244\"><span style=\"display:inline-block; height:0px; position:relative; width:1.575em\"><span style=\"font-family:mathjax_main; left:-0.068em; position:absolute; top:-3.996em\">−<span style=\"display:inline-block; height:4.004em; width:0px\"></span></span><span style=\"font-family:mathjax_main; left:0.861em; position:absolute; top:-3.996em\">−<span style=\"display:inline-block; height:4.004em; width:0px\"></span></span><span style=\"font-family:mathjax_main; left:0.361em; position:absolute; top:-3.996em\">−<span style=\"display:inline-block; height:4.004em; width:0px\"></span></span></span></span><span style=\"display:inline-block; height:4.004em; width:0px\"></span></span></span></span></span></span><span style=\"display:inline-block; height:4.004em; width:0px\"></span></span></span><span style=\"display:inline-block; height:4.004em; width:0px\"></span></span></span></span></span><span style=\"display:inline-block; height:2.218em; width:0px\"></span></span></span><span style=\"border-left:0px solid; display:inline-block; height:2.575em; overflow:hidden; vertical-align:-1.068em; width:0px\"></span></span><span class=\"MJX_Assistive_MathML MJX_Assistive_MathML_Block\" role=\"presentation\"><math><mtable columnalign=\"right\" columnspacing=\"1em\" rowspacing=\"4pt\"><mtr><mtd><mn>1</mn></mtd></mtr><mtr><mtd><munder><mrow><mo>×</mo><mtext>&nbsp;</mtext><mn>7</mn></mrow><mo>_</mo></munder></mtd></mtr></mtable></math></span></span></div>\n{{response}}\n<p><span class=\"MathJax_Preview\" style=\"display:none\"></span></p>\n\n<div class=\"MathJax_Display\" style=\"text-align: left;\"><span class=\"MathJax\" data-lrn-mathjax-postprocessed=\"true\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mtable columnalign=&quot;right&quot; rowspacing=&quot;4pt&quot; columnspacing=&quot;1em&quot;><mtr><mtd><mn>8</mn></mtd></mtr><mtr><mtd><munder><mrow><mo>&amp;#x00D7;</mo><mtext>&amp;#xA0;</mtext><mn>0</mn></mrow><mo>&amp;#x005F;</mo></munder></mtd></mtr></mtable></math>\" id=\"MathJax-Element-15-Frame\" role=\"presentation\" style=\"position:relative; text-align:center\"><span class=\"math\" id=\"MathJax-Span-205\" style=\"display:inline-block; width:1.861em\"><span style=\"display:inline-block; height:0px; position:relative; width:1.861em\"><span style=\"clip:rect(0.504em, 1001.72em, 3.432em, -999.996em); left:0em; position:absolute; top:-2.211em\"><span class=\"mrow\" id=\"MathJax-Span-206\"><span class=\"mtable\" id=\"MathJax-Span-207\" style=\"padding-left:0.146em; padding-right:0.146em\"><span style=\"display:inline-block; height:0px; position:relative; width:1.575em\"><span style=\"clip:rect(2.432em, 1001.58em, 5.218em, -999.996em); left:0em; position:absolute; top:-3.996em\"><span style=\"display:inline-block; height:0px; position:relative; width:1.575em\"><span style=\"clip:rect(3.146em, 1000.43em, 4.218em, -999.996em); position:absolute; right:0em; top:-4.639em\"><span class=\"mtd\" id=\"MathJax-Span-208\"><span class=\"mrow\" id=\"MathJax-Span-209\"><span class=\"mn\" id=\"MathJax-Span-210\" style=\"font-family:mathjax_main\">8</span></span></span><span style=\"display:inline-block; height:4.004em; width:0px\"></span></span><span style=\"clip:rect(3.146em, 1001.58em, 4.432em, -999.996em); position:absolute; right:0em; top:-3.282em\"><span class=\"mtd\" id=\"MathJax-Span-211\"><span class=\"mrow\" id=\"MathJax-Span-212\"><span class=\"munderover\" id=\"MathJax-Span-213\"><span style=\"display:inline-block; height:0px; position:relative; width:1.575em\"><span style=\"clip:rect(3.146em, 1001.5em, 4.218em, -999.996em); left:0.004em; position:absolute; top:-3.996em\"><span class=\"mrow\" id=\"MathJax-Span-214\"><span class=\"mo\" id=\"MathJax-Span-215\" style=\"font-family:mathjax_main\">×</span><span class=\"mtext\" id=\"MathJax-Span-216\" style=\"font-family:mathjax_main\">&nbsp;</span><span class=\"mn\" id=\"MathJax-Span-217\" style=\"font-family:mathjax_main\">0</span></span><span style=\"display:inline-block; height:4.004em; width:0px\"></span></span><span style=\"clip:rect(3.504em, 1001.58em, 4.004em, -999.996em); left:0em; position:absolute; top:-3.496em\"><span class=\"mo\" id=\"MathJax-Span-218\"><span style=\"display:inline-block; height:0px; position:relative; width:1.575em\"><span style=\"font-family:mathjax_main; left:-0.068em; position:absolute; top:-3.996em\">−<span style=\"display:inline-block; height:4.004em; width:0px\"></span></span><span style=\"font-family:mathjax_main; left:0.861em; position:absolute; top:-3.996em\">−<span style=\"display:inline-block; height:4.004em; width:0px\"></span></span><span style=\"font-family:mathjax_main; left:0.361em; position:absolute; top:-3.996em\">−<span style=\"display:inline-block; height:4.004em; width:0px\"></span></span></span></span><span style=\"display:inline-block; height:4.004em; width:0px\"></span></span></span></span></span></span><span style=\"display:inline-block; height:4.004em; width:0px\"></span></span></span><span style=\"display:inline-block; height:4.004em; width:0px\"></span></span></span></span></span><span style=\"display:inline-block; height:2.218em; width:0px\"></span></span></span><span style=\"border-left:0px solid; display:inline-block; height:2.575em; overflow:hidden; vertical-align:-1.068em; width:0px\"></span></span><span class=\"MJX_Assistive_MathML MJX_Assistive_MathML_Block\" role=\"presentation\"><math><mtable columnalign=\"right\" columnspacing=\"1em\" rowspacing=\"4pt\"><mtr><mtd><mn>8</mn></mtd></mtr><mtr><mtd><munder><mrow><mo>×</mo><mtext>&nbsp;</mtext><mn>0</mn></mrow><mo>_</mo></munder></mtd></mtr></mtable></math></span></span></div>\n{{response}}\n<p><span class=\"MathJax_Preview\" style=\"display:none\"></span></p>\n\n<div class=\"MathJax_Display\" style=\"text-align: left;\"><span class=\"MathJax\" data-lrn-mathjax-postprocessed=\"true\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mtable columnalign=&quot;right&quot; rowspacing=&quot;4pt&quot; columnspacing=&quot;1em&quot;><mtr><mtd><mn>1</mn></mtd></mtr><mtr><mtd><munder><mrow><mo>&amp;#x00D7;</mo><mtext>&amp;#xA0;</mtext><mn>9</mn></mrow><mo>&amp;#x005F;</mo></munder></mtd></mtr></mtable></math>\" id=\"MathJax-Element-15-Frame\" role=\"presentation\" style=\"position:relative; text-align:center\"><span class=\"math\" id=\"MathJax-Span-205\" style=\"display:inline-block; width:1.861em\"><span style=\"display:inline-block; height:0px; position:relative; width:1.861em\"><span style=\"clip:rect(0.504em, 1001.72em, 3.432em, -999.996em); left:0em; position:absolute; top:-2.211em\"><span class=\"mrow\" id=\"MathJax-Span-206\"><span class=\"mtable\" id=\"MathJax-Span-207\" style=\"padding-left:0.146em; padding-right:0.146em\"><span style=\"display:inline-block; height:0px; position:relative; width:1.575em\"><span style=\"clip:rect(2.432em, 1001.58em, 5.218em, -999.996em); left:0em; position:absolute; top:-3.996em\"><span style=\"display:inline-block; height:0px; position:relative; width:1.575em\"><span style=\"clip:rect(3.146em, 1000.43em, 4.218em, -999.996em); position:absolute; right:0em; top:-4.639em\"><span class=\"mtd\" id=\"MathJax-Span-208\"><span class=\"mrow\" id=\"MathJax-Span-209\"><span class=\"mn\" id=\"MathJax-Span-210\" style=\"font-family:mathjax_main\">1</span></span></span><span style=\"display:inline-block; height:4.004em; width:0px\"></span></span><span style=\"clip:rect(3.146em, 1001.58em, 4.432em, -999.996em); position:absolute; right:0em; top:-3.282em\"><span class=\"mtd\" id=\"MathJax-Span-211\"><span class=\"mrow\" id=\"MathJax-Span-212\"><span class=\"munderover\" id=\"MathJax-Span-213\"><span style=\"display:inline-block; height:0px; position:relative; width:1.575em\"><span style=\"clip:rect(3.146em, 1001.5em, 4.218em, -999.996em); left:0.004em; position:absolute; top:-3.996em\"><span class=\"mrow\" id=\"MathJax-Span-214\"><span class=\"mo\" id=\"MathJax-Span-215\" style=\"font-family:mathjax_main\">×</span><span class=\"mtext\" id=\"MathJax-Span-216\" style=\"font-family:mathjax_main\">&nbsp;</span><span class=\"mn\" id=\"MathJax-Span-217\" style=\"font-family:mathjax_main\">9</span></span><span style=\"display:inline-block; height:4.004em; width:0px\"></span></span><span style=\"clip:rect(3.504em, 1001.58em, 4.004em, -999.996em); left:0em; position:absolute; top:-3.496em\"><span class=\"mo\" id=\"MathJax-Span-218\"><span style=\"display:inline-block; height:0px; position:relative; width:1.575em\"><span style=\"font-family:mathjax_main; left:-0.068em; position:absolute; top:-3.996em\">−<span style=\"display:inline-block; height:4.004em; width:0px\"></span></span><span style=\"font-family:mathjax_main; left:0.861em; position:absolute; top:-3.996em\">−<span style=\"display:inline-block; height:4.004em; width:0px\"></span></span><span style=\"font-family:mathjax_main; left:0.361em; position:absolute; top:-3.996em\">−<span style=\"display:inline-block; height:4.004em; width:0px\"></span></span></span></span><span style=\"display:inline-block; height:4.004em; width:0px\"></span></span></span></span></span></span><span style=\"display:inline-block; height:4.004em; width:0px\"></span></span></span><span style=\"display:inline-block; height:4.004em; width:0px\"></span></span></span></span></span><span style=\"display:inline-block; height:2.218em; width:0px\"></span></span></span><span style=\"border-left:0px solid; display:inline-block; height:2.575em; overflow:hidden; vertical-align:-1.068em; width:0px\"></span></span><span class=\"MJX_Assistive_MathML MJX_Assistive_MathML_Block\" role=\"presentation\"><math><mtable columnalign=\"right\" columnspacing=\"1em\" rowspacing=\"4pt\"><mtr><mtd><mn>1</mn></mtd></mtr><mtr><mtd><munder><mrow><mo>×</mo><mtext>&nbsp;</mtext><mn>9</mn></mrow><mo>_</mo></munder></mtd></mtr></mtable></math></span></span></div>\n{{response}}');
    const expected = '<p></p><div><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtable columnalign="right" rowspacing="4pt" columnspacing="1em"><mtr><mtd><mn>2</mn></mtd></mtr><mtr><mtd><munder><mrow><mo>×</mo><mtext>&nbsp;</mtext><mn>1</mn></mrow><mo>_</mo></munder></mtd></mtr></mtable></math></div>{{response}}<div><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtable columnalign="right" rowspacing="4pt" columnspacing="1em"><mtr><mtd><mn>1</mn></mtd></mtr><mtr><mtd><munder><mrow><mo>×</mo><mtext>&nbsp;</mtext><mn>7</mn></mrow><mo>_</mo></munder></mtd></mtr></mtable></math></div>{{response}}<p></p><div><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtable columnalign="right" rowspacing="4pt" columnspacing="1em"><mtr><mtd><mn>8</mn></mtd></mtr><mtr><mtd><munder><mrow><mo>×</mo><mtext>&nbsp;</mtext><mn>0</mn></mrow><mo>_</mo></munder></mtd></mtr></mtable></math></div>{{response}}<p></p><div><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtable columnalign="right" rowspacing="4pt" columnspacing="1em"><mtr><mtd><mn>1</mn></mtd></mtr><mtr><mtd><munder><mrow><mo>×</mo><mtext>&nbsp;</mtext><mn>9</mn></mrow><mo>_</mo></munder></mtd></mtr></mtable></math></div>{{response}}';

	t.is(actual, expected);
});
